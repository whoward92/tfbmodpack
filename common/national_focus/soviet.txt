focus_tree = {
	id = soviet_focus

	country = {
		factor = 0
		
		modifier = {
			add = 10
			original_tag = SOV
		}
	}
	continuous_focus_position = { x = 1500 y = 1200 }
	default = no

	focus = {
		id = SOV_2_5_year_plan
		icon = GFX_focus_generic_self_management
		x = 3
		y = 0
		cost = 1
		available = {
		
		}
		ai_will_do = {
			factor = 12
		}
		
		completion_reward = {
			add_timed_idea = {
					idea = SOV_idea_2_5_year_plan
					days = 700
				}
			hidden_effect = {
				if = { 
					limit = { 
				    	is_ai = yes
					}
					add_ideas = partial_economic_mobilisation
					}
				}
			}
	}

	focus = {
		id = develop_leningrad_area
		icon = GFX_sov_rails
		prerequisite = { focus = SOV_Tolkach }
		x = -1
		y = 2
		cost = 2
		available = {

		}
		ai_will_do = { 
			factor = 10
		}

		completion_reward = {
			208 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
				}
			}
			244 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
				}
			}
			209 = { 
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
				}
			}
			263 = { 
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
				}
			}
		}		
	}

	focus = {
		id = industrialize_leningrad_area
		icon = GFX_leningrad_development
		prerequisite = { focus = develop_leningrad_area }
		x = -1
		y = 3
		cost = 5.5
		available = {

		}
		ai_will_do = { 
			factor = 10
		}

		completion_reward = {
			209 = { 
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
					}
				}
			}
			263 = { 
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
					}
				}
			}
		}		
	}

	focus = {
		id = develop_moscow_area
		icon = GFX_sov_rails
		prerequisite = { focus = SOV_Tolkach }
		x = -3
		y = 2
		cost = 6.5
		available = {

		}
		ai_will_do = { 
			factor = 10
		}

		completion_reward = {
			246 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
				}
			}
			247 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
				}
			}
			248 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
				}
			}
			253 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
				}
			}
			254 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
				}
			}
			223 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
				}
			}
			205 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
				}
			}
			242 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
				}
			}
		}		
	}

	focus = {
		id = industrialize_moscow_area
		icon = GFX_sov_develop_moscow
		prerequisite = { focus = develop_moscow_area }
		x = -3
		y = 3
		cost = 5.5
		available = {

		}
		ai_will_do = { 
			factor = 10
		}

		completion_reward = {
			246 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
					}
				}
			}
			247 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
					}
				}
			}
			248 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
					}
				}
			}
			223 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
					}
				}
			}
			242 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
					}
				}
			}
		}		
	}

	focus = {
		id = sov_don_river_system
		icon = GFX_sov_don_river
		prerequisite = { focus = industrialize_moscow_area }
		prerequisite = { focus = industrialize_leningrad_area }
		x = -2
		y = 4
		cost = 4
		available = {

		}
		ai_will_do = { 
			factor = 10
		}

		completion_reward = {
			258 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
				}
			}
			257 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
				}
			}
			260 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
				}
			}
			260 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = sov_stalingrad_area_development
		icon = GFX_stalingrad_development
		prerequisite = { focus = sov_don_river_system }
		x = -3
		y = 5
		cost = 5
		available = {
			NOT = { has_idea = SOV_idea_2_5_year_plan }
			has_idea = SOV_idea_3_5_year_plan
		}
		ai_will_do = { 
			factor = 10
		}

		completion_reward = {
			245 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
				}
			}
			265 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
				}
			}
			239 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
					}
				}
			}
			401 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
				}
			}
			407 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
					}
				}
			}
			236 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
					}
				}
			}
			238 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = sov_retool_tractor_factories
		icon = GFX_sov_tankograd
		prerequisite = { focus = sov_stalingrad_area_development }
		x = -3
		y = 6
		cost = 5
		available = {
			NOT = { has_idea = SOV_idea_2_5_year_plan }
		}
		ai_will_do = { 
			factor = 10
		}

		completion_reward = {
			407 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
					}
				}
			}
			195 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
					}
				}
			}
			217 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = sov_develop_urals
		icon = GFX_sov_rails
		prerequisite = { focus = sov_don_river_system }
		x = -1
		y = 5
		cost = 4
		available = {
			NOT = { has_idea = SOV_idea_2_5_year_plan }
		}

		ai_will_do = { 
			factor = 10
		}

		completion_reward = {
			573 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
					}
				}
			}
			251 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
					}
				}
			}
			583 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
					}
				}
			}
			582 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
					}
				}
			}
			398 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = SOV_goal_tankograd
		icon = GFX_sov_tankograd
		prerequisite = { focus = SOV_urals_armed }
		prerequisite = { focus = sov_retool_tractor_factories }
		x = -3
		y = 7
		cost = 3 
		available = { 
		SOV = { has_war_with = GER }
		}
		ai_will_do = {
			factor = 8
		}

		completion_reward = {
			add_ideas = SOV_tankograd
		}
	}

	focus = {
		id = SOV_urals_armed
		icon = GFX_sov_goal_arm_urals
		prerequisite = { focus = sov_develop_urals }
		x = -1
		y = 6
		cost = 5
		available = {

		}
		ai_will_do = { 
			factor = 10
		}

		completion_reward = {
			652 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
					}
				}
			}
			651 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
					}
				}
			}
			582 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
					}
				}
			}
			398 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = SOV_magnitogorsk
		icon = GFX_goal_steel
		prerequisite = { focus = SOV_2_5_year_plan }
		x = 3
		y = 1
		cost = 6
		available = {
		}
		ai_will_do = {
			factor = 8
		}

		completion_reward = {
			add_resource = {
				type = steel
				amount = 44
				state = 582
			}
			add_resource = {
				type = tungsten
				amount = 24
				state = 582
			}

			582 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
					}
				}
			}					
		}
	}
	focus = {
		id = SOV_petrochemical
		icon = GFX_goal_oil
		prerequisite = { focus = SOV_magnitogorsk }
		x = 3
		y = 2
		cost = 6
		available = {
		}
		ai_will_do = {
			factor = 8
		}

		completion_reward = {
			add_resource = {
				type = oil
				amount = 32
				state = 229
			}
			add_resource = {
				type = rubber
				amount = 16
				state = 229
			}
			229 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
					}
				add_building_construction = {
					type = synthetic_refinery
					level = 1
					instant_build = yes
				}
				}
			}
            add_tech_bonus = {
				name = GER_oil_knowledge
					bonus = 0.6
					uses = 2
					category = synth_resources
			}			
		}
	}
	focus = {
		id = SOV_collectivization
		icon = GFX_goal_generic_construction
		prerequisite = { focus = SOV_petrochemical }
		x = 3
		y = 3 
		cost = 8
		available = {
		}
		ai_will_do = {
			factor = 8
		}

		completion_reward = {
			add_ideas = SOV_collectivization

			random_owned_controlled_state = {
				prioritize = { 250 }
					limit = {
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
			}
			random_owned_controlled_state = {
				prioritize = { 652 }
					limit = {
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
			}
			random_owned_controlled_state = {
				prioritize = { 401 }
					limit = {
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
			}
			random_owned_controlled_state = {
				prioritize = { 407 }
					limit = {
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
			}
		}	
	}
	focus = {
		id = SOV_Tolkach
		icon = GFX_focus_generic_soviet_politics
		prerequisite = { focus = SOV_2_5_year_plan }
		x = -1
		y = 1
		cost = 5
		available = {
		}
		ai_will_do = {
			factor = 8 
		}

		completion_reward = {
			add_ideas = SOV_Tolkach
		}
	}
	focus = {
		id = SOV_heavy_industry_1
		icon = GFX_sov_heavy_industry
		prerequisite = { focus = SOV_Tolkach }
		x = 1 
		y = 2
		cost = 10.5
		available = {
		}
		ai_will_do = {
			factor = 8
		}

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 248 }
					limit = {
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
			}
			random_owned_controlled_state = {
				prioritize = { 195 }
					limit = {
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
			}
			random_owned_controlled_state = {
				prioritize = { 219 }
					limit = {
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
			}
			random_owned_controlled_state = {
				prioritize = { 217 }
					limit = {
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
			}
			add_tech_bonus = {
				name = construction_tech_bonus
				bonus = 0.5
				uses = 2
				category = construction_tech
			}
		}
	}
	focus = {
		id = SOV_Improvement_Tools
		icon = GFX_goal_generic_air_production
		prerequisite = { focus = SOV_heavy_industry_1 }
		x = 1
		y = 3
		cost = 5
		available = {
			has_idea = home_of_revolution
		}
		ai_will_do = {
			factor = 8 
		}

		completion_reward = {
			swap_ideas = {
				add_idea = SOV_revolution_workers_culture
				remove_idea = home_of_revolution
			}
		}
	}
	focus = {
		id = SOV_capitals_of_socialism
		icon = GFX_goal_generic_construct_infrastructure
        prerequisite = { focus = SOV_2_5_year_plan }
        prerequisite = { focus = SOV_stalin_constitution }
		x = 6
		y = 1
		cost = 7
		available = {
		}
		ai_will_do = {
			factor = 8
		}

		completion_reward = {
			239 = {
			if = {
				limit = { is_controlled_by = SOV }
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
					}
				}
			}
			219 = {
			if = {
				limit = { is_controlled_by = SOV }
			add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
					}
				}
			}
			195 = {
			if = {
				limit = { is_controlled_by = SOV }
			add_building_construction = {
					type = infrastructure
					level = 3
					instant_build = yes
					}
				}
			}
			217 = {
			if = {
				limit = { is_controlled_by = SOV }
			add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = SOV_new_generation
		icon = GFX_sov_stakhonovite
		prerequisite = { focus = SOV_capitals_of_socialism }
		x = 6
		y = 2
		cost = 5
		available = {
		}
		ai_will_do = {
			factor = 8 
		}

		completion_reward = {
			add_tech_bonus = {
				name = construction_tech_bonus
				bonus = 0.5
				uses = 3
				category = construction_tech
			}
		}
	}		

	focus = {
		id = SOV_tractor_factories
		icon = GFX_goal_generic_construct_civilian
		prerequisite = { focus = SOV_stakhonovite }
		x = 5 
		y = 4
		cost = 11 
		available = {
		} 
		ai_will_do = {
			factor = 8
		}

		completion_reward = {
			222 = {
			if = {
				limit = { is_controlled_by = SOV }
			add_extra_state_shared_building_slots = 3
			add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
					}
				}
			}
			219 = {
			if = {
				limit = { is_controlled_by = SOV }
			add_extra_state_shared_building_slots = 3
			add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
					}
				}
			}
			195 = {
			if = {
				limit = { is_controlled_by = SOV }
			add_extra_state_shared_building_slots = 3
			add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
					}
				}
			}
			217 = {
			if = {
				limit = { is_controlled_by = SOV }
			add_extra_state_shared_building_slots = 3
			add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
					}
				}
			}
		}
	}
	focus = {
		id = SOV_stakhonovite
		icon = GFX_sov_stakhonovite
		prerequisite = { focus = SOV_new_generation }
		x = 5
		y = 3
		cost = 5
		available = {
		}
		ai_will_do = {
			factor = 8 
		}

		completion_reward = {
			add_ideas = SOV_stakhonovite 
			add_tech_bonus = {
				bonus = 0.20
				uses = 3
				category = industry
			}
		}
	}

	focus = {
		id = SOV_third_five_year_plan
		icon = GFX_sov_stalin_writing
		prerequisite = { focus = SOV_Improvement_Tools }
		prerequisite = { focus = SOV_collectivization }
		x = 2
		y = 4
		cost = 1 
		available = {
			NOT = { has_idea = SOV_idea_2_5_year_plan }
		}
		ai_will_do = {
			factor = 8
		}

		completion_reward = {
			add_ideas = SOV_idea_3_5_year_plan
		}
	}
	focus = {
		id = SOV_heavy_industry_2
		icon = GFX_sov_heavy_industry
		prerequisite = { focus = SOV_third_five_year_plan }
		x = 1 
		y = 5
		cost = 10
		available = {
		}
		ai_will_do = {
			factor = 8
		}

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 248 }
					limit = {
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 3
						instant_build = yes
					}
			}
			random_owned_controlled_state = {
				prioritize = { 249 }
					limit = {
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
			}
			random_owned_controlled_state = {
				prioritize = { 250 }
					limit = {
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
			}
			add_tech_bonus = {
				name = construction_tech_bonus
				bonus = 0.75
				uses = 1
				category = construction_tech
			}
			add_popularity = {
			ideology = communism
			popularity = 0.04
		}
		}
	}

	focus = {
		id = SOV_arms_industry_2
		icon = GFX_sov_arms_production
		prerequisite = { focus = SOV_heavy_industry_2 }
		x = 1 
		y = 6
		cost = 9
		available = {
		}
		ai_will_do = {
			factor = 8
		}

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 653 }
					limit = {
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
			}
			random_owned_controlled_state = {
				prioritize = { 572 }
					limit = {
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
			}
			random_owned_controlled_state = {
				prioritize = { 582 }
					limit = {
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = arms_factory
						level = 3
						instant_build = yes
					}
			}
		}
	}

	focus = {
		id = SOV_arms_production
		icon = GFX_sov_arms_production
		prerequisite = { focus = SOV_arms_industry_2 }
		prerequisite = { focus = SOV_urals_armed }
		x = -1
		y = 7
		cost = 6
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		completion_reward = {
			add_ideas = SOV_idea_arms_production
		}
	}

	focus = { 
		id = SOV_start_moving_industry_to_urals
		icon = GFX_goal_generic_production
		prerequisite = { focus = SOV_arms_production }
		x = -1
		y = 8
		cost = 5
		ai_will_do = {
			factor = 50
			modifier = {
				factor = 0 
				NOT = { has_war_with = GER}
			}
		}
		available = {
			has_war_with = GER
			219 = {
				is_owned_and_controlled_by = SOV
				arms_factory > 4
				industrial_complex > 2
			}
			195 = {
				is_owned_and_controlled_by = SOV
				arms_factory > 4
				industrial_complex > 0
			}
			242 = {
				is_owned_and_controlled_by = SOV
				industrial_complex > 1
			}
			
			573 = {
				is_owned_and_controlled_by = SOV
			}
			582 = {
				is_owned_and_controlled_by = SOV
			} 
		}
		completion_reward = {
			219 = {
				remove_building = {
					type = arms_factory
					level = 5
				}
				remove_building = {
					type = industrial_complex
					level = 2
				}
			}
			195 = {
				remove_building = {
					type = arms_factory
					level = 5
				}
				remove_building = {
					type = industrial_complex
					level = 1
				}
			}
			242 = {
				remove_building = {
					type = industrial_complex
					level = 2
				}
			}
		}
	}

	focus = {
		id = SOV_finish_moving_industry_to_urals
		icon = GFX_goal_generic_construct_civilian
		prerequisite = { focus = SOV_start_moving_industry_to_urals }
		x = -1
		y = 9
		cost = 5
		ai_will_do = {
			factor = 50
			modifier = {
				factor = 0
				NOT = { has_war_with = GER }
			}
		}
		available = {
			has_war_with = GER

			
			573 = {
				is_owned_and_controlled_by = SOV
			}
			582 = {
				is_owned_and_controlled_by = SOV
			} 
		}
		completion_reward = {
			573 = {
				add_extra_state_shared_building_slots = 8
				add_building_construction = {
					type = arms_factory
					level = 5
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
			}
			582 = {
				add_extra_state_shared_building_slots = 8
				add_building_construction = {
					type = arms_factory
					level = 6
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			# REVISIT Consider implementing as events, made obsolete by new decisions?
		}
	}

	focus = {
		id = SOV_industrial_war_mobilisation 
		icon = GFX_goal_generic_soviet_construction
		prerequisite = { focus = SOV_finish_moving_industry_to_urals }
		x = -1
		y = 10
		cost = 5
		available = {
			OR = {
			has_war_with = GER
			has_war_with = JAP
			}
		}
		completion_reward = {
			if = { 
				limit = {
				 NOT = { has_idea = peoples_commissariat_focus }
				 }
				 add_ideas = emergency_industrial_effort 
			}
			if = {
				limit = {
					has_idea = peoples_commissariat_focus
					}
					swap_ideas = { 
					remove_idea = peoples_commissariat_focus
					add_idea = emergency_industrial_effort
					}
			} 
			random_owned_controlled_state = {
				prioritize = { 587 }
					limit = {
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
			}
			random_owned_controlled_state = {
				prioritize = { 406 }
					limit = {
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
			}
		}
	}

	focus = {
		id = SOV_peoples_commissariat
		icon = GFX_goal_support_communism
		prerequisite = { focus = SOV_third_five_year_plan }
		x = 4
		y = 5
		cost = 4
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		completion_reward = {
			add_ideas = peoples_commissariat_focus
		}
	}

	focus = {
		id = SOV_appoint_koshkin
		icon = GFX_appoint_koshkin
		prerequisite = { focus = SOV_peoples_commissariat }
		x = 3
		y = 6
		cost = 2
		ai_will_do = {
			factor = 1
		}	
		available_if_capitulated = no
		
		completion_reward = {
		custom_effect_tooltip = available_tank_designer
				show_ideas_tooltip = morozov_design_bureau
		}
	}
	
	focus = {
		id = SOV_armor_effort
		text = SOV_armor_effort
		icon = GFX_goal_RUS_armored_school
		prerequisite = { focus = SOV_appoint_koshkin }
		
		x = 1
		y = 7
		cost = 5.5
		ai_will_do = {
			factor = 10
		}
		available_if_capitulated = yes
		completion_reward = {
			add_tech_bonus = {
				name = armor_bonus
				bonus = 0.5
				uses = 1
				category = cat_light_armor
			}
			add_tech_bonus = {
				name = armor_bonus
				bonus = 0.5
				uses = 1
				category = cat_medium_armor
			}
			add_tech_bonus = {
				name = armor_bonus
				bonus = 0.5
				uses = 1
				category = cat_heavy_armor
			}
		}
	}
	
	focus = {
		id = SOV_support_tanks
		icon = GFX_goal_TD
		prerequisite = { focus =  SOV_armor_effort }
		
		x = 1 
		y = 8
		cost = 5
		ai_will_do = {
			factor = 0
		}
		available_if_capitulated = yes
		completion_reward = {
			
			add_tech_bonus = {
			name = armor_bonus
			
			bonus = 0.5
			uses = 2
			category = cat_medium_armor_support
			}
		}
	}

	focus = {
		id = SOV_t_34_prototype
		icon = GFX_t_34_prototype
		prerequisite = { focus = SOV_appoint_koshkin }
		x = 3
		y = 7
		cost = 4
		ai_will_do = {
			factor = 1
		}	
		available_if_capitulated = no
		
		completion_reward = {
			221 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}		
		}
	}

	focus = {
		id = SOV_t_34_finalized
		icon = GFX_sov_tankograd
		prerequisite = { focus = SOV_t_34_prototype }
		available = {
		date > 1939.05.01
		}

		x = 3
		y = 8
		cost = 6
		ai_will_do = {
			factor = 1
		}
		bypass = {
		        has_tech = improved_medium_tank
		}
                #REVISIT TO OPTIMIZE AI
		completion_reward = {
			set_technology = { 
				improved_medium_tank = 1
			} 
		}
	}
	
	focus = {
		id = SOV_heavy_tank_effort
		icon = GFX_sov_tankograd
		prerequisite = { focus = SOV_t_34_finalized }
		prerequisite = { focus = SOV_armor_effort }

		x = 2
		y = 9
		cost = 8
		ai_will_do = {
			factor = 1
		}

		completion_reward = {
			add_tech_bonus = {
				name = armor_bonus
				bonus = 0.5
				uses = 1
				category = cat_heavy_armor
				category = cat_heavy_art
				category = cat_heavy_td
			}
		}
	}

	focus = {
		id = SOV_progress_cult
		icon = GFX_Goal_Progress_Cult
		prerequisite = { focus = SOV_new_generation }
		x = 7
		y = 3
		cost = 9
		ai_will_do = {
			factor = 1
		}	
		available_if_capitulated = yes
		completion_reward = {
			add_ideas = progress_cult_focus
		}
	}

	focus = {
		id = SOV_socialist_science
		icon = GFX_Goal_Socialist_Science
		prerequisite = { focus = SOV_progress_cult }
		x = 7
		y = 4
		cost = 7
		ai_will_do = {
			factor = 1
		}	
		available_if_capitulated = yes
		completion_reward = {
			add_ideas = socialist_science_focus
		}
	}

	focus = {
		id = SOV_extra_tech_slot_early
		icon = GFX_focus_research
		text = extra_tech_slot
		prerequisite = { focus = SOV_socialist_science }
		x = 7
		y = 5
		cost = 10
		ai_will_do = {
			factor = 5
		}	
		available_if_capitulated = yes
		completion_reward = {
			add_research_slot = 1
		}
	}
	
	focus = {
		id = SOV_socialist_science_2
		icon = GFX_goal_generic_national_unity
		prerequisite = { focus = SOV_extra_tech_slot_early }
		x = 7
		y = 6
		cost = 7
		ai_will_do = {
			factor = 1
		}	
		available_if_capitulated = yes
		completion_reward = {
			add_tech_bonus = {
				name = socialist_science_tech_bonus
				bonus = 0.5
				uses = 5
				category = construction_tech
			}
		}
	}
	
	focus = {
		id = SOV_develop_mongolia
		icon = GFX_Goal_Develop_Mongolia
		prerequisite = { focus = SOV_socialist_science_2 }
		x = 8
		y = 7
		cost = 4.4
		available = {
		MON = { is_subject_of = SOV }
		}
		ai_will_do = {
			factor = 1
		}	
		available_if_capitulated = yes
		completion_reward = {
		        330 = {
		        if = {
				limit = { is_controlled_by = MON }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			}
			654 = {
			if = {
				limit = { OR = { is_controlled_by = SOV is_controlled_by = MON } }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			}
			add_opinion_modifier = { target = MON modifier = aided_industry }
			MON = {
			        add_popularity = { ideology = communism popularity = 0.1 }
			        add_stability = 0.05
				add_autonomy_ratio = {
					value = -0.15
					localization = fra_syria_focus
				}
			}
		}
	}
	
	focus = {
		id = SOV_develop_sinkiang
		icon = GFX_Goal_Develop_Sinkiang
		prerequisite = { focus = SOV_socialist_science_2 }
		x = 6
		y = 7
		cost = 5
		available = {
		SIK = { is_subject_of = SOV }
		}
		ai_will_do = {
			factor = 1
		}	
		available_if_capitulated = yes
		completion_reward = {
		        617 = {
                if = {
				limit = { is_controlled_by = SIK }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			}
			287 = {
			if = {
				limit = { is_controlled_by = SIK }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			}
			759 = {
			if = {
				limit = { is_controlled_by = SIK }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			}
			add_opinion_modifier = { target = SIK modifier = aided_industry }
			SIK = {
			        add_popularity = { ideology = communism popularity = 0.1 }
			        add_stability = 0.05
				add_autonomy_ratio = {
					value = -0.15
					localization = fra_syria_focus
				}
			}
		}
	}

	focus = {
		id = SOV_stalin_constitution
		icon = GFX_Goal_Stalin
		x = 12
		y = 0
		cost = 8
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		completion_reward = {
		add_stability = 0.05
			add_popularity = {
			ideology = communism
			popularity = 0.07
		}
		}
	}

	
	focus = {
		id = SOV_anti_fascist_diplomacy
		icon = GFX_Goal_Anti_fascist_dimplomacy
		prerequisite = { focus = SOV_stalin_constitution }
		x = 14
		y = 1
		cost = 5
		ai_will_do = {
			factor = 1
			modifier = {
				has_government = fascism
				factor = 0
			}
		}	
		available_if_capitulated = yes
		completion_reward = {
			USA = { 
				if = {
					limit = { NOT = { has_government = fascism } }
					add_opinion_modifier = { target = SOV modifier = anti_fascist_diplomacy_focus } 
				}
			}
			ENG = { 
				if = {
					limit = { NOT = { has_government = fascism } }

					add_opinion_modifier = { target = SOV modifier = anti_fascist_diplomacy_focus } 
				}
			}
			FRA = { 
				if = {
					limit = { NOT = { has_government = fascism } }
					add_opinion_modifier = { target = SOV modifier = anti_fascist_diplomacy_focus } 
				}
			}
			every_other_country = {
				limit = { has_government = fascism }
				add_opinion_modifier = { target = SOV modifier = anti_fascist_diplomacy_fascists }
			}
		}
	}

	focus = {
		id = SOV_support_spain
		icon = GFX_goal_LEC_armsSPA
		prerequisite = { focus = SOV_anti_fascist_diplomacy }
		x = 16
		y = 2
		cost = 2
		ai_will_do = {
			factor = 50 
		}
		available = {
		SPR = { has_civil_war = yes }
		
		}
		completion_reward = {
			add_timed_idea = {
					idea = Spainish_gold
					days = 200
				}
			if = {
				limit = {
					SPR = {
						has_tech = infantry_weapons1
					}
				}
				SPR = {
				add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 2000 producer = SOV }
				add_equipment_to_stockpile = { type = support_equipment_1 amount = 1000 producer = SOV }
				}
			} 
			if = {
				limit = {
					SPR = {
						has_tech = artillery1
					}
				}
				SPR = {
				add_equipment_to_stockpile = { type = artillery_equipment_1 amount = 500 producer = SOV }
				}
			}
			SPR = { 
				add_opinion_modifier = { target = SOV modifier = SOV_SPR_help }
			}
		}
	}
	

	focus = {
		id = SOV_far_east_fortification
		icon = GFX_Goal_Soviet_Defense2
		prerequisite = { focus = SOV_anti_fascist_diplomacy }
		x = 14
		y = 2
		cost = 4
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			563 = {
				if = {
					limit = { is_controlled_by = ROOT }
					custom_effect_tooltip = SOV_far_east_fortification_forts_1
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 2
							province = 4719
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 12622
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 10559
							instant_build = yes
						}
					}
				}
			}
			657 = {
					if = {
					limit = { is_controlled_by = ROOT }
					custom_effect_tooltip = SOV_far_east_fortification_forts_2
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 2
							province = 7763
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 4725
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 10655
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 7801
							instant_build = yes
						}
					}
				}
			}
			409 = {
				if = {
					limit = { is_controlled_by = ROOT }
					custom_effect_tooltip = SOV_far_east_fortification_forts_3
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 2
							province = 12189
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 10466
							instant_build = yes
						}
					}
				}
			}
			408 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = bunker
					level = 2
					province = 11643
					instant_build = yes
					}
				}
			}
			# Other possible Provinces
			# 4719 12802 10559 12543 7851 10678 12657 7763 4725 10655 7801 10722 7672 4805
			# 12189 10466 11643 6686 664 6684 3787 6838 3977 11879 1755
		}
	}
	focus = { 
		id = SOV_support_china
		icon = GFX_focus_chi_cooperation_with_the_nationalists
		prerequisite = { focus = SOV_far_east_fortification }
		x = 14
		y = 3
		cost = 3
		ai_will_do = {
			factor = 1 
		}
		bypass = {
			CHI = {
				OR = {
					exists = no
					is_puppet = yes
				}

			}
		}
		
		available = { 
			CHI = { has_war_with = JAP }
			CHI = { has_tech = infantry_weapons1 }
			CHI = { has_completed_focus = CHI_ask_for_support_from_the_soviet_union }
			has_equipment = { infantry_equipment > 999 }
			has_equipment = { infantry_uniforms > 499 }
		}
		
		completion_reward = {
			army_experience = 20
			add_political_power = 50 
			ROOT = {
				send_equipment = {
					target = CHI
					type = infantry_equipment
					amount = 1000
					old_prioritised = yes
				}
				send_equipment = {
					target = FROM
					type = infantry_uniforms
					amount = 500
					old_prioritised = yes
				}
			}
			CHI = {
				add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 3500 producer = SOV }
				add_equipment_to_stockpile = { type = infantry_uniforms_0 amount = 2500 producer = SOV }
				add_equipment_to_stockpile = { type = horse_equipment_0 amount = 2500 producer = SOV }
			} 
			CHI = { 
				add_opinion_modifier = { target = SOV modifier = SOV_CHI_help }
			}
		}
	}
	focus = {
		id = SOV_pressure_mon
		icon = GFX_Goal_pressure_Mongolia
		prerequisite = { focus = SOV_far_east_fortification }
		available = {
		      OR = {
			CHI = { has_war_with = JAP }
			CCP = { has_war_with = JAP }
			}
		}
		continue_if_invalid = yes
		bypass = {
		AND = {
			CHI = {
				OR = {
					exists = no
					is_puppet = yes
				}

			}
			CCP = {
				OR = {
					exists = no
					is_puppet = yes
				}

			}
		}
		}
		x = 16
		y = 3
		cost = 3
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
		MON = {
				country_event = { id = soviet.140 }
			}
		}
	}
	focus = {
		id = SOV_permanent_asia_rev
		icon = GFX_focus_chi_one_china_policy
		prerequisite = { focus = SOV_pressure_mon }
		available = {
		}
		continue_if_invalid = yes
		bypass = {
		}
		x = 16
		y = 4
		cost = 5.5
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
		     if = { limit = { MON = { exists = yes }}
		          MON = {   country_event = { id = political.4 }  }
		     }
		     if = { limit = { MEN = { exists = yes }}
		          MEN = {   country_event = { id = political.4 }  }
		     }
		     if = { limit = { MAN = { exists = yes }}
		          MAN = {   country_event = { id = political.4 }  }
		     }
		     if = { limit = { CCP = { exists = yes }}
		          CCP = {   country_event = { id = political.4 }  }
		     }
		     if = { limit = { SIK = { exists = yes }}
		          SIK = {   country_event = { id = political.4 }  }
		     }
		     if = { limit = { TIB = { exists = yes }}
		          TIB = {   country_event = { id = political.4 }  }
		     }
		     if = { limit = { YUN = { exists = yes }}
		          YUN = {   country_event = { id = political.4 }  }
		     }
		     if = { limit = { XSM = { exists = yes }}
		          XSM = {   country_event = { id = political.4 }  }
		     }
		     if = { limit = { TAN = { exists = yes }}
		          TAN = {   country_event = { id = political.4 }  }
		     }
		}
	}
	focus = {
		id = SOV_operation_zet
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = SOV_support_china }
		available = {
			CHI = { has_war_with = JAP }
			CHI = { has_tech = early_fighter }
		}
		continue_if_invalid = yes
		bypass = {
			CHI = {
				OR = {
					exists = no
					is_puppet = yes
				}

			}
		}
		x = 14
		y = 4
		cost = 2
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			add_timed_idea = {
				idea = SOV_secret_production
				days = 90
			}
			if = {
				limit = {
					CHI = {
						has_tech = early_fighter
						NOT = { has_tech = fighter1 }
					}
				}
				CHI = {
				add_equipment_to_stockpile = { type = fighter_equipment_0 amount = 600 producer = CHI }
				}
			
			else = {
			if = {
				limit = {
					CHI = {
						has_tech = fighter1
						NOT = { has_tech = fighter2 }
					}
				}
				CHI = {
				add_equipment_to_stockpile = { type = fighter_equipment_1 amount = 600 producer = CHI }
				}
			}
			if = {
				limit = {
					CHI = {
						has_tech = fighter2
					}
				}
				CHI = {
				add_equipment_to_stockpile = { type = fighter_equipment_2 amount = 600 producer = CHI }
				}
			}
			}
			}
			CHI = {
				add_opinion_modifier = { target = SOV modifier = operation_zet_chi }				
			}
			JAP = { add_opinion_modifier = { target = SOV modifier = operation_zet_jap } }
			CCP = { add_opinion_modifier = { target = SOV modifier = operation_zet_jap } }
		}
	}

	focus = {
		id = SOV_annex_tannu_tuva
		icon = GFX_Goal_annex_tanu_tuva
		prerequisite = { focus = SOV_operation_zet }
		available = { is_puppet = no }
		bypass = {
			NOT = { country_exists = TAN }
		}
		x = 14
		y = 5
		cost = 2
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			TAN = {
				country_event = { id = soviet.14 }
			}
		}
	}

	focus = {
		id = SOV_vasily_chuikov
		icon = GFX_focus_sov_recall_zhuikov
		prerequisite = { focus = SOV_annex_tannu_tuva }
		x = 14
		y = 6
		cost = 3
		ai_will_do = {
			factor = 1
		}
		available = {
			NOT = { has_idea = SOV_idea_3_5_year_plan }
		}

		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = available_military_high_command
			show_ideas_tooltip = vasily_chuikov_1
			#add_political_power = 100
		}
	}
	
	focus = {
		id = SOV_war_with_japan
		icon = GFX_focus_attack_japan
		prerequisite = { focus = SOV_vasily_chuikov }
		x = 14
		y = 7
		available = {
			country_exists = JAP
			date > 1943.1.1
			OR = {
			 NOT = { SOV = { has_war_with = GER } }
			 
			 OR = {
					JAP = { controls_state = 629 }
					any_other_country = {
						is_in_faction_with = JAP
						controls_state = 629
					}
				}
			}	
			NOT = { has_idea = trotskyite_plot }
			custom_trigger_tooltip = {
				tooltip = SOV_has_not_officers_purged_tt
				NOT = { has_idea = officers_purged }			
				NOT = { has_idea = officers_purged_2 }			
				NOT = { has_idea = officers_purged_3 }			
				NOT = { has_idea = officers_purged_4 }			
				NOT = { has_idea = officers_purged_5 }			
				NOT = { has_idea = officers_purged_6 }			
				NOT = { has_idea = officers_purged_7 }			
				NOT = { has_idea = officers_purged_8 }			
				NOT = { has_idea = officers_purged_9 }			
				NOT = { has_idea = officers_purged_10 }			
			}
		}
		will_lead_to_war_with = JAP
		cost = 20
		ai_will_do = {
			factor = 1

			modifier = {
				factor = 0

				OR = {
					AND = {
						has_completed_focus = SOV_war_with_germany
						GER = { has_capitulated = no }
					}
					
					has_war = yes
				}
				OR = {
					any_enemy_country = {
						is_neighbor_of = ROOT
					}
					alliance_strength_ratio > 0.9
				}
			}
		}
		bypass = {
			OR = {
				has_war_with = JAP
				NOT = { country_exists = JAP }
			}
		}
		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = JAP
			} 
		}
	}
	
	focus = {
		id = SOV_improve_stalin_line
		icon = GFX_Goal_Soviet_Defense
		prerequisite = { focus = SOV_anti_fascist_diplomacy }
		available = { has_offensive_war = no }
		x = 12
		y = 2
		cost = 8
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			209 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 3
						province = 415
						instant_build = yes
					}
				}
				#add_building_construction = {
				#	type = bunker
				#	level = 6
				#	province = 209
				#	instant_build = yes
				#}
			}
			210 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 4
						province = 3333
						instant_build = yes
					}
				}
			}
			207 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 4
						province = 3219
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 4
						province = 6371
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 4
						province = 6220
						instant_build = yes
					}
				}
			}
			206 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 4
						province = 11370
						instant_build = yes
					}
				}
			}
			202 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 4
						province = 525
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 4
						province = 3494
						instant_build = yes
					}
				}

			}
			203 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 4
						province = 11409
						instant_build = yes
					}
				}
			}
			192 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 4
						province = 754
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 4
						province = 741
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 4
						province = 11670
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = SOV_claims_on_baltic
		icon = GFX_goal_generic_more_territorial_claims
		prerequisite = { focus = SOV_improve_stalin_line }
		x = 12
		y = 3
		cost = 6
		available = {
			OR = {
				has_idea = SOV_molotov_ribbentrop_pact 
				threat > 0.6	
			}
		}
		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0
				date < 1939.1.1
				NOT = { 
					GER = { has_completed_focus = GER_demand_memel }
				}
			}
		}
		bypass = {
			OR = { 
				owns_state = 11
				11 = { is_claimed_by = ROOT }
			}
			OR = { 
				owns_state = 12
				12 = { is_claimed_by = ROOT }
			}
			OR = { 
				owns_state = 189
				189 = { is_claimed_by = ROOT }
			}
			OR = { 
				owns_state = 190
				190 = { is_claimed_by = ROOT }
			}
		}
		completion_reward = {
			add_state_claim = 11
			add_state_claim = 189
			add_state_claim = 12
			add_state_claim = 190
			add_named_threat = { threat = 3 name = SOV_claims_on_baltic }

			every_other_country = {
			
				limit = {					
					OR = {
						owns_state = 11
						owns_state = 12
						owns_state = 189
						owns_state = 190
					}
				}
				add_opinion_modifier = { target = SOV modifier = threat_to_baltic }
			}
		}
	}

	focus = {
		id = SOV_baltic_security
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = SOV_claims_on_baltic }
		x = 12
		y = 4
		cost = 6.5
		available = {
			OR = {
				has_idea = SOV_molotov_ribbentrop_pact 
				threat > 0.8	
			}
		}
		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0
				date < 1939.7.1
			}	
		}
		bypass = {
			OR = { 
				owns_state = 146
				146 = { is_claimed_by = ROOT }
			}
			OR = { 
				owns_state = 191
				191 = { is_claimed_by = ROOT }
			}
			OR = { 
				owns_state = 13
				13 = { is_claimed_by = ROOT }
			}
		}
		completion_reward = {
			add_state_claim = 146 # Karjala
			# Estonia
			add_state_claim = 191 
			add_state_claim = 13
			add_named_threat = { threat = 1 name = SOV_baltic_security }
			
		}
	}
	
	focus = {
		id = SOV_claims_on_poland
		icon = GFX_Goal_Attack_poland
		prerequisite = { focus = SOV_baltic_security }
		x = 12
		y = 5
		cost = 10
		available = {
			OR = {
				has_idea = SOV_molotov_ribbentrop_pact 
				threat > 0.8	
			}
		}
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				date < 1939.1.1
			}	
		}

		bypass = {
			OR = {
				has_idea = SOV_molotov_ribbentrop_pact

				NOT = { country_exists = POL }

				AND = {
					OR = { 
						owns_state = 91
						91 = { is_claimed_by = ROOT }
					}
					OR = { 
						owns_state = 93
						93 = { is_claimed_by = ROOT }
					}
					OR = { 
						owns_state = 94
						94 = { is_claimed_by = ROOT }
					}
					OR = { 
						owns_state = 95
						95 = { is_claimed_by = ROOT }
					}
					OR = { 
						owns_state = 96
						96 = { is_claimed_by = ROOT }
					}
					OR = { 
						owns_state = 89
						89 = { is_claimed_by = ROOT }
					}
					OR = { 
						owns_state = 97
						97 = { is_claimed_by = ROOT }
					}
				}
			}			
		}

		completion_reward = {
			# REVISIT Covers Polish border, may want to add/remove some states
			add_state_claim = 96
			add_state_claim = 95
			add_state_claim = 94
			add_state_claim = 93
			add_state_claim = 91
			add_state_claim = 89
			add_named_threat = { threat = 3 name = SOV_claims_on_poland }

			every_other_country = {
				limit = { 
					OR = {
						owns_state = 96
						owns_state = 95
						owns_state = 94
						owns_state = 93
						owns_state = 91
						owns_state = 89
					}
				}
				add_opinion_modifier = { target = SOV modifier = claimed_eastern_poland }
			}
		}
	}

	focus = {
		id = SOV_fortify_molotov_line
		icon = GFX_goal_generic_fortify_city
		prerequisite = { focus = SOV_improve_stalin_line }
		available = { 
			has_offensive_war = no 
			#NOT = { has_war_with = GER }
			SOV = {
				AND = {
					AND = { owns_state = 11 controls_state = 11 }
					AND = { owns_state = 12 controls_state = 12 }
					AND = { owns_state = 13 controls_state = 13 }
					AND = { owns_state = 89 controls_state = 89 }
					AND = { owns_state = 91 controls_state = 91 }
					AND = { owns_state = 93 controls_state = 93 }
					AND = { owns_state = 94 controls_state = 94 }
					AND = { owns_state = 95 controls_state = 95 }
					AND = { owns_state = 96 controls_state = 96 }
					AND = { owns_state = 97 controls_state = 97 }
					AND = { owns_state = 189 controls_state = 189 }
					AND = { owns_state = 190 controls_state = 190 }
					AND = { owns_state = 191 controls_state = 191 }
				}
			}

		}



		x = 10
		y = 3
		cost = 8
		ai_will_do = {
			factor = 1
		}	

		completion_reward = {
			11 = {
				add_building_construction = {
					type = bunker
					level = 3
					province = 6407
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 4
					province = 6296
					instant_build = yes
				}
			}
			89 = {
				add_building_construction = {
					type = bunker
					level = 3
					province = 11411
					instant_build = yes

				}
				add_building_construction = {
					type = bunker
					level = 4
					province = 6431
					instant_build = yes

				}
			}
			95 = {
				add_building_construction = {
					type = bunker
					level = 3
					province = 9359
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 4
					province = 3366
					instant_build = yes
				}
			}
			91 = {
				add_building_construction = {
					type = bunker
					level = 5
					province = 11479
					instant_build = yes
				}
			}
			94 = {
				add_building_construction = {
					type = bunker
					level = 3
					province = 3392
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 2
					province = 11247
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 1
					province = 6546
					instant_build = yes
				}
			}
			189 = {
				add_building_construction = {
					type = bunker
					level = 4
					province = 9731
					instant_build = yes
				}

				add_building_construction = {
					type = bunker
					level = 3
					province = 6360
					instant_build = yes
				}
			}
			97 = {
				add_building_construction = {
					type = bunker
					level = 5
					province = 3393
					instant_build = yes
				}
			}
			190 = {
				add_building_construction = {
					type = bunker
					level = 4
					province = 9262
					instant_build = yes
				}
			}
		}
	}	

	focus = {
		id = SOV_fortify_dneibr
		icon = GFX_goal_generic_fortify_city
		prerequisite = { focus = SOV_fortify_molotov_line }
		available = { 
			has_offensive_war = no 
			#NOT = { has_war_with = GER }
			SOV = {
				AND = {
					AND = { owns_state = 226 controls_state = 226 }
					AND = { owns_state = 259 controls_state = 259 }
					AND = { owns_state = 200 controls_state = 200 }
					AND = { owns_state = 89 controls_state = 196 }
				}
			}

		}



		x = 10
		y = 4
		cost = 8
		ai_will_do = {
			factor = 1
		}	

		completion_reward = {
			196 = {
				add_building_construction = {
					type = bunker
					level = 2
					province = 721
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 2
					province = 737
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 2
					province = 3573
					instant_build = yes
				}
			}
			200 = {
				add_building_construction = {
					type = bunker
					level = 5
					province = 11405
					instant_build = yes

				}
				add_building_construction = {
					type = bunker
					level = 2
					province = 588
					instant_build = yes

				}
			}
			259 = {
				add_building_construction = {
					type = bunker
					level = 2
					province = 6507
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 2
					province = 6495
					instant_build = yes
				}
			}
		}
	}	

	focus = {
		id = SOV_defense_of_moscow
		icon = GFX_goal_generic_fortify_city
		prerequisite = { focus = SOV_fortify_dneibr }
		available = {
			#any_owned_state = {
			#	any_neighbor_state = { state = 219 } # Moscow
			#	NOT = { is_controlled_by = ROOT }
			#}
			219 = {
				is_controlled_by = ROOT
				
				OR = {
					any_neighbor_state = {
						NOT = { is_controlled_by = ROOT }
					}

					SOV = { surrender_progress > 0.1 }
				}
			}
		}
		x = 10
		y = 5
		cost = 5
		ai_will_do = {
			factor = 100
		}	
		completion_reward = {
			army_experience = 25
			219 = {
				custom_effect_tooltip = SOV_defense_of_moscow_forts
				hidden_effect = {
					add_building_construction = {
						type = bunker
						level = 3
						province = 3391
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 6414
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 9348
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 301
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 9378
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 6283
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 3259
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 11282
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 4
						province = 6348
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = SOV_claim_bessarabia
		icon = GFX_goal_generic_more_territorial_claims
		prerequisite = { focus = SOV_claims_on_poland }
		x = 12
		y = 6
		cost = 8
		ai_will_do = {
			factor = 2.5
			modifier = {
				factor = 0
				date < 1939.1.1
			}			
		}
		bypass = {
			OR = { 
				owns_state = 78
				78 = { is_claimed_by = ROOT }
			}
			OR = { 
				owns_state = 80
				80 = { is_claimed_by = ROOT }
			}
		}
		completion_reward = {
			add_state_claim = 78
			add_state_claim = 80
			add_named_threat = { threat = 1 name = SOV_claim_bessarabia }
			random_other_country = {
				limit = { owns_state = 78 }
				add_opinion_modifier = { target = SOV modifier = claimed_bessarabia }
				set_country_flag = SOV_added_claimed_bessarabia
			}
			if = {
				limit = {
					any_other_country = {
						owns_state = 78
						NOT = {	owns_state = 80 }
					}
				}
				random_other_country = {
					limit = { 
						owns_state = 80 
						NOT = { has_country_flag = SOV_added_claimed_bessarabia }
					}
					add_opinion_modifier = { target = SOV modifier = claimed_bucovina }
				}
			}
		}
	}


	focus = {
		id = SOV_war_with_germany
		icon = GFX_focus_attack_germany
		prerequisite = { focus = SOV_claim_bessarabia }
		available = {
			country_exists = GER
			custom_trigger_tooltip = {
				tooltip = SOV_war_with_germany_tt
				NOT = { has_idea = SOV_molotov_ribbentrop_pact }
			}
			#NOT = { has_idea = trotskyite_plot }
			custom_trigger_tooltip = {
				tooltip = SOV_has_not_officers_purged_tt
				NOT = { has_idea = officers_purged }			
				NOT = { has_idea = officers_purged_2 }			
				NOT = { has_idea = officers_purged_3 }			
				NOT = { has_idea = officers_purged_4 }			
				NOT = { has_idea = officers_purged_5 }			
				NOT = { has_idea = officers_purged_6 }			
				NOT = { has_idea = officers_purged_7 }			
				NOT = { has_idea = officers_purged_8 }			
				NOT = { has_idea = officers_purged_9 }			
				NOT = { has_idea = officers_purged_10 }			
			}
		}
		bypass = {
			has_war_with = GER
		}
		will_lead_to_war_with = GER
		x = 12
		y = 7
		cost = 15
		ai_will_do = {
			factor = 1

			modifier = {
				factor = 0
                                OR = {  
				        date < 1941.12.12
					AND = {
						has_completed_focus = SOV_war_with_japan
						JAP = { has_capitulated = no }
						has_war = yes
					}
				}
			}

			modifier = {
				factor = 2
				ROM = {
					is_in_faction_with = GER
				}
			}
			modifier = {
				factor = 10
				GER = {
					has_war_with = USA
				}
			}
			modifier = {
				factor = 0.5
				GER = { strength_ratio = { tag = SOV ratio > 1 } }
			}
			modifier = {
				factor = 0.2
				GER = { strength_ratio = { tag = SOV ratio > 2 } }
			}
			modifier = {
				factor = 0
				GER = { strength_ratio = { tag = SOV ratio > 4 } }
			}
			modifier = {
				factor = 2
				GER = { strength_ratio = { tag = SOV ratio < 1 } }
			}
		}	
		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = GER
			} 
		}
	}
	
	focus = {  # they fear us now
		id = SOV_molotov_pact_extension
		icon = GFX_focus_ger_great_red_menace
		prerequisite = { focus = SOV_claim_bessarabia }
		available = {
			country_exists = GER
			date > 1941.11.1
			has_war = no
			has_idea = SOV_molotov_ribbentrop_pact
			OR = {
			95 = { is_controlled_by_ROOT_or_ally = yes }
			89 = { is_controlled_by_ROOT_or_ally = yes }
			}
		}		
		bypass = {
				OR = {
				owns_state = 79
				has_war_with = ROM
				has_war_with = GER
				}
		}		
		x = 10
		y = 7
		cost = 10
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 2
				ROM = {
					NOT = { is_in_faction_with = GER }
				}
			}
		}	
		completion_reward = {
		    add_state_claim = 79
	   	    GER = { country_event = { id = romania.8 } }
		}
	}
	# TODO: add mechanic that renews molotov pact when the spirit runs out?
	
	focus = {
	id = SOV_Baltic_Sea_1
	icon = GFX_goal_generic_construct_military
	cost = 6
   available = {
   195 = { is_controlled_by = ROOT } 
   208 = { is_controlled_by = ROOT } 
   }
	x = 21
	y = 0
	completion_reward = {
			208 = {
					add_building_construction = {
						type = bunker
						level = 1
						province = 104
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						province = 104
						instant_build = yes
					}
				
				}
				195 = {
					add_building_construction = {
						type = coastal_bunker
						level = 2
						province = 3151
						instant_build = yes
					}
					add_building_construction = {
						type = naval_base
						level = 2
						province = 3151
						instant_build = yes
					}
				}
			
		}
	

   }
	
	focus = {
	id = SOV_Sevastopol
	icon = GFX_goal_generic_construct_military
	cost = 6
   available = {
   137 = { is_controlled_by = ROOT } 
   }
	x = 23
	y = 0
	completion_reward = {
			137 = {
					add_building_construction = {
						type = bunker
						level = 2
						province = 3686
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						province = 3686
						instant_build = yes
					}
					set_building_level = {
						type = bunker
						level = 3
						province = {
							all_provinces = yes
							level < 3
						}
					}
					add_building_construction = {
					type = coastal_bunker
					province = {
						all_provinces = yes
						limit_to_coastal = yes
					}
					level = 1
					instant_build = yes
				}
		}
	}

   }
   
   focus = {
	id = SOV_Black_Sea
	icon = GFX_goal_generic_build_navy
	cost = 6
	prerequisite = { focus = SOV_Sevastopol }
    mutually_exclusive = { focus = SOV_Baltic_Sea }
	available = {
	      OR = {
               
			   custom_trigger_tooltip = {
				tooltip = SOV_great_purge_navy_tt
				NOT = { has_country_flag = purge_2_group_a }
		    	}
			   date > 1938.6.1
		  }
	}
	x = 23
	y = 1
	completion_reward = {
			navy_experience = 20
			add_tech_bonus = {
				name = ships_bonus
				bonus = 0.3
				uses = 5
				category = naval_equipment
			}
	}

   }
   
   focus = {
	id = SOV_Baltic_Sea
	icon = GFX_goal_Upgrade_Reserves
	mutually_exclusive = { focus = SOV_Black_Sea }
	available = {
	      OR = {
               
			   custom_trigger_tooltip = {
				tooltip = SOV_great_purge_navy_tt
				NOT = { has_country_flag = purge_2_group_a }
		    	}
			   date > 1938.6.1
		  }
	}
	prerequisite = { focus = SOV_Baltic_Sea_1 }
	cost = 6

	x = 21
	y = 1
	completion_reward = {
			navy_experience = 20
			add_tech_bonus = {
				name = bb_bonus
				bonus = 0.75
				uses = 1
				category = bb_tech
			}
			add_tech_bonus = {
				name = naval_gunry
				bonus = 0.75
				uses = 1
				category = naval_gunry
			}		
	}

   }

	focus = {
		id = SOV_anti_capitalist_diplomacy
		icon = GFX_Goal_Anti_Capitalist_diplomacy
		prerequisite = { focus = SOV_stalin_constitution }
		x = 19
		y = 1
		cost = 2
		available = { 
			date > 1941.03.01
		}
		ai_will_do = {
			factor = 0.25
		}

		completion_reward = {
			add_political_power = 150 
		}
	}

	focus = {
		id = SOV_expand_red_fleet
		icon = GFX_soviet_navy_1
		prerequisite = { focus = SOV_anti_capitalist_diplomacy }
prerequisite = { focus = SOV_Baltic_Sea focus = SOV_Black_Sea }
        prerequisite = { focus = SOV_great_navy_purge  }
		x = 22
		y = 2
		cost = 8
       
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		complete_tooltip = {
		    navy_experience = 25
			every_state = {
				limit = { has_state_flag = SOV_expand_red_fleet_2dockyards }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}				
			}
			add_tech_bonus = {
				name = ships_bonus
				bonus = 0.6
				uses = 2
				category = naval_equipment
			}			
		}

		completion_reward = {
			navy_experience = 25
			random_owned_controlled_state = {
				limit = {
					dockyard > 0
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				set_state_flag = SOV_expand_red_fleet_2dockyards
			}
			random_owned_controlled_state = {
				limit = {
					dockyard > 0
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				set_state_flag = SOV_expand_red_fleet_2dockyards
			}
			add_tech_bonus = {
				name = ships_bonus
				bonus = 0.6
				uses = 2
				category = naval_equipment
			}
		}
	}
	
	focus = {
		id = SOV_cruiser_effort
		icon = GFX_goal_generic_cruiser2
		mutually_exclusive = { focus = SOV_submarine_designs }
		prerequisite = { focus = SOV_expand_red_fleet }

		x = 21
		y = 3
		cost = 6

		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		completion_reward = {
			navy_experience = 40
			add_tech_bonus = {
				name = ships_bonus
				bonus = 0.6
				uses = 2
				category = cl_tech
				category = ca_tech
			}
		}
	}
	
	focus = {
		id = SOV_submarine_designs
		icon = GFX_goal_generic_navy_submarine
		mutually_exclusive = { focus = SOV_cruiser_effort }
		prerequisite = { focus = SOV_expand_red_fleet }

		x = 23
		y = 3
		cost = 5

		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		completion_reward = {
			navy_experience = 30
			add_tech_bonus = {
				name = ships_bonus
				bonus = 0.5
				uses = 2
				category = ss_tech
			}
		}
	}
	
	focus = {
		id = SOV_modern_navy
		icon = GFX_goal_Large_Navy
		
		prerequisite = { focus = SOV_submarine_designs focus = SOV_cruiser_effort }
		

		x = 22
		y = 5
		cost = 5
		ai_will_do = {
			factor = 10
		}

		completion_reward = {
			navy_experience = 30
			add_tech_bonus = {
				name = naval_doctrine_bonus
				uses = 3
				bonus = 0.6
				category = naval_doctrine
			}
		}
	}
	
	focus = {
		id = SOV_carriers
		icon = GFX_goal_carrier2
		prerequisite = { focus = SOV_modern_navy  }
		

		x = 23
		y = 6
		cost = 6.5
		ai_will_do = {
			factor = 10
		}

		completion_reward = {
			add_tech_bonus = {
				name = FRA_carrier_focus
				bonus = 0.75
				uses = 2
				category = cv_tech
			}
		}
	}
	
	focus = {
		id = SOV_bcs
		icon = GFX_sov_bb
		prerequisite = { focus = SOV_modern_navy  }
		

		x = 21
		y = 6
		cost = 5
		ai_will_do = {
			factor = 10
		}

		completion_reward = {
			add_tech_bonus = {
				name = FRA_capital_ship_focus
				bonus = 0.75
				uses = 2
				category = bb_tech
			}
		}
	}

	focus = {
		id = SOV_murmansk_lend_lease
		icon = GFX_goal_generic_war_with_comintern
		prerequisite = { focus = SOV_operation_countenance }
		x = 18
		y = 4
		cost = 4
		available = { 
				has_war_with = GER
				213 = {is_owned_by = SOV}
				USA = { has_completed_focus = USA_lend_lease_act }
		}
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			add_ideas = lend_lease_articm
			if = { limit = { OR = { is_ai = no has_global_flag = ai_speeches } } 
				hidden_effect = {
					sound_effect = sp_sov_rallytheworkers 
				}
			}
		}
	}

	focus = {
		id = SOV_arkangelsk_lend_lease
		icon = GFX_goal_generic_war_with_comintern
		prerequisite = { focus = SOV_murmansk_lend_lease }
		x = 18
		y = 5
		cost = 4
		available = { 
			has_war_with = GER
			214 = {is_owned_by = SOV}
			date > 1941.12.12
		}
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			add_ideas = lend_lease_artica
		}
	}

	focus = {
		id = SOV_persia_lend_lease
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = SOV_pacific_lend_lease }
		available = { 
			has_war_with = GER
			ENG = { has_war_with = GER }
			OR = { 229 = {is_owned_by = SOV} 229 = {is_owned_by = ENG} }
			date > 1942.06.01
		}
		x = 20
		y = 5
		cost = 4
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			add_ideas = lend_lease_iran
			country_event = { id = soviet.63 }
		}
	}

	focus = {
		id = SOV_pacific_lend_lease
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = SOV_operation_countenance }
		available = {
			has_war_with = GER
			408 = {is_owned_by = SOV} 
			date > 1941.06.01
		}
		x = 20
		y = 4
		cost = 4
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			add_ideas = lend_lease_pac
		}
	}

	focus = {
		id = SOV_production_license
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = SOV_persia_lend_lease }
		prerequisite = { focus = SOV_arkangelsk_lend_lease }
		available = {
			has_war_with = GER
		}
		x = 19
		y = 6
		cost = 6
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			add_ideas = SOV_idea_license
		}
	}

	focus = {
		id = SOV_extra_tech_slot
		icon = GFX_focus_research
		text = extra_tech_slot
		prerequisite = { focus = SOV_production_license }
		x = 19
		y = 7
		cost = 8
		ai_will_do = {
			factor = 5
		}	
		available_if_capitulated = yes
		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = SOV_great_purge
		icon = GFX_Goal_Great_Purge2
		available = {
			NOT = { has_country_flag = counter_purge }
			has_government = communism
		}
		x = 30
		y = 0
		cost = 20
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				any_claim = yes
				has_war = yes
			}
		}

		bypass = {
			custom_trigger_tooltip = {
				tooltip = SOV_great_purge_bypass_tt
				has_country_flag = counter_purge
			}
		}

		select_effect = {
			country_event = { id = soviet.24 days = 1 }
			set_country_flag = SOV_purge_started
		}
		completion_reward = {
			custom_effect_tooltip = SOV_great_purge_tt
			custom_effect_tooltip = SOV_great_purge_tt2
			custom_effect_tooltip = SOV_great_purge_tt3
			
			#Full military purge. Hardest penalty
			if = {
				limit = {
					OR = {
						has_country_flag = purge_1_group_a
						has_country_flag = purge_1_group_b
					}
					OR = {						
						has_country_flag = purge_2_group_a
						has_country_flag = purge_2_group_b
					}
				}
				
				hidden_effect = {
					news_event = { hours = 6 id = news.219 }
				}
			}

			remove_ideas = trotskyite_plot
			add_ideas = trotskyite_plot_purged

			hidden_effect = {
				if = {
					limit = { 
						any_other_country = {
							is_major = yes
							has_offensive_war_with = SOV
						}
					}
					country_event = { id = soviet.46 days = 3 }
				}				 
			}
		}
	}
    focus = {
		id = SOV_great_navy_purge 
		icon = GFX_nav_purge
		prerequisite = { focus = SOV_great_purge }

		x = 25
		y = 1
		cost = 5
		ai_will_do = {
			factor = 10
		}
      bypass = {
         has_idea = air_purged
      }

		completion_reward = {
			remove_ideas = navy_purged
		}
	}
	
    focus = {
		id = SOV_nkvd_primacy
		icon = GFX_Goal_NKVD_Primacy
		prerequisite = { focus = SOV_collectivist_propaganda }
		x = 27
		y = 2
		cost = 5
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 1000
				any_claim = yes
				has_war = yes
			}
		}	
		
		available_if_capitulated = yes
		completion_reward = {
			add_ideas = nkvd
		}
	}

	focus = {
		id = SOV_nkvd_divisions
		icon = GFX_goal_generic_allies_build_infantry
		prerequisite = { focus = SOV_nkvd_primacy }
		x = 27
		y = 3
		cost = 8
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 1000
				any_claim = yes
				has_war = yes
			}
		}	
		available_if_capitulated = yes
		completion_reward = {
			
        swap_ideas = { remove_idea = nkvd add_idea = nkvd_2 }
				
		}
	}

	focus = {
		id = SOV_Beria_Partisans
		icon = GFX_Goal_Communist_Partisans2
		prerequisite = { focus = SOV_nkvd_divisions }
		available = { 
			has_war_with = GER
		}
		x = 27
		y = 4
		cost = 8
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 1000
				any_claim = yes
				has_war = yes
			}
		}	
		available_if_capitulated = yes
		completion_reward = {
			
		swap_ideas = { remove_idea = nkvd_2 add_idea = nkvd_3 }
			
		}
	}

	focus = {
		id = SOV_collectivist_propaganda
		icon = GFX_Goal_Commie_recruits
		prerequisite = { focus = SOV_great_purge }
		x = 28
		y = 1
		cost = 7
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 1000
				any_claim = yes
				has_war = yes
			}
		}	
		available_if_capitulated = yes

		completion_reward = {
			add_timed_idea = {
				idea = YUG_idea_very_empowered_peasant_councils
				days = 730
			}
		}
	}

	focus = {
		id = SOV_STAVKA
		icon = GFX_goal_generic_allies_build_infantry
		prerequisite = { focus = SOV_great_purge }
		x = 31
		y = 1
		cost = 7
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 1000
				any_claim = yes
				has_war = yes
			}
		}	
		available_if_capitulated = yes

		completion_reward = {
			add_ideas = SOV_STAVKA
		}
	}

	focus = {
		id = SOV_positive_heroism
		icon = GFX_Goal_Positive_heroism
		prerequisite = { focus = SOV_collectivist_propaganda }
		x = 29
		y = 2
		cost = 8
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = available_military_high_command
			show_ideas_tooltip = konstantin_rokossovsky 
			custom_effect_tooltip = available_theorist
			show_ideas_tooltip = georgy_zhukov
			# REVISIT Might want to add more
		}
	}
	
	focus = {
		id = SOV_proletariat_reserves
		icon = GFX_goal_focus_communist_army
		prerequisite = { focus = SOV_nkvd_divisions }
		prerequisite = { focus = SOV_positive_heroism }
		x = 29
		y = 4
		cost = 8
		ai_will_do = {
			factor = 1
		}
		
		available = {
		has_defensive_war = yes
		surrender_progress > 0.2
		}

		available_if_capitulated = no

		completion_reward = {
			custom_effect_tooltip = proletariat_spawn
			hidden_effect = {
			load_oob = "SOV_proletariat"
			}
			random_owned_controlled_state = {
				prioritize = { 219 }
				create_unit = { 
				division = "name = \"Proletariat division\" division_template = \"Proletariat division\" start_experience_factor = 0.1" 
		owner = SOV
		}
				
				create_unit = { 
				division = "name = \"Proletariat division\" division_template = \"Proletariat division\" start_experience_factor = 0.0" 
		owner = SOV
		}
				}
				
						random_owned_controlled_state = {
						prioritize = { 219 }
				create_unit = { 
				division = "name = \"Proletariat division\" division_template = \"Proletariat division\" start_experience_factor = 0.1" 
		owner = SOV
		}
				
				create_unit = { 
				division = "name = \"Proletariat division\" division_template = \"Proletariat division\" start_experience_factor = 0.1" 
		owner = SOV
		}
				}
						random_owned_controlled_state = {
						prioritize = { 219 }
				create_unit = { 
				division = "name = \"Proletariat division\" division_template = \"Proletariat division\" start_experience_factor = 0.0" 
		owner = SOV
		}
				
				create_unit = { 
				division = "name = \"Proletariat division\" division_template = \"Proletariat division\" start_experience_factor = 0.0" 
		owner = SOV
		}
				}
						random_owned_controlled_state = {
						prioritize = { 219 }
				create_unit = { 
				division = "name = \"Proletariat division\" division_template = \"Proletariat division\" start_experience_factor = 0.1" 
		owner = SOV
		}
				
				create_unit = { 
				division = "name = \"Proletariat division\" division_template = \"Proletariat division\" start_experience_factor = 0.0" 
		owner = SOV
		}
				}
						random_owned_controlled_state = {
						prioritize = { 219 }
				create_unit = { 
				division = "name = \"Proletariat division\" division_template = \"Proletariat division\" start_experience_factor = 0.1" 
		owner = SOV
		}
				
				create_unit = { 
				division = "name = \"Proletariat division\" division_template = \"Proletariat division\" start_experience_factor = 0.0" 
		owner = SOV
		}
				}
		}
	}
	
	focus = {
		id = SOV_guards
		icon = GFX_Goal_Guards_Unit2
		prerequisite = { focus = SOV_STAVKA }
		prerequisite = { focus = SOV_positive_heroism }
		x = 31
		y = 3
		cost = 3
		available = {
			has_war_with = GER	
			is_puppet = no
			exists = yes 
			communism > 0.7
		}
		
		ai_will_do = {
			factor = 0
		}

		
		completion_reward = {
			army_experience = 100
			country_event = {id = soviet.331 }
		}
	}	
	
	focus = {
		id = SOV_paratroopers
		icon = GFX_Goal_Soviet_Airborne_Corps
		prerequisite = { focus = SOV_guards }
		x = 31
		y = 6
		cost = 4
		available = {
		}
		
		ai_will_do = {
			factor = 0
		}

		
		completion_reward = {
			custom_effect_tooltip = SOV_paratroopers_tt

			hidden_effect = {
				division_template = {
					name = "Guards Airborne Division"
					priority = 2	

					regiments = {

						paratrooper = { x = 0 y = 0 }
						paratrooper = { x = 0 y = 1 }
						paratrooper = { x = 0 y = 2 }
						paratrooper = { x = 1 y = 0 }
						paratrooper = { x = 1 y = 1 }
						paratrooper = { x = 1 y = 2 }
						paratrooper = { x = 2 y = 0 }
						paratrooper = { x = 2 y = 1 }	
						paratrooper = { x = 2 y = 2 }
						mountain_artillery_brigade = { x = 3 y = 0 }
						mountain_artillery_brigade = { x = 3 y = 1 }
					}	

					support = {
						DIV_HQ = { x = 0 y = 0 }
						engineer = { x = 1 y = 0 }					
					}
				}
			}
		}
	}
	
	focus = {
	id = SOV_Campaign_for_Mass_Mechanization
	icon = GFX_Goal_Mass_Mechanization_effort
	cost = 7
	prerequisite = {
		focus = SOV_guards
	}
	x = 30
	y = 5
	completion_reward = {
		add_tech_bonus = {
			uses = 1
			bonus = 0.75
			ahead_reduction = 0.5
			category = cat_mechanized_equipment
		}
		add_timed_idea = {
			idea = SOV_mecha
			days = 365
		}
	}

}
	
	focus = {
		id = SOV_Sikorski_Mayski_agreement
		icon = GFX_goal_generic_military_deal
        prerequisite = { focus = SOV_nkvd_divisions  }
		x = 25
		y = 4
		cost = 5
		available = {
			has_war_with = GER
			GER = {controls_state = 10}
			
		}
		ai_will_do = {
			factor = 5
		}

		
		completion_reward = {
			add_manpower = 300000
			#add_timed_idea = {
			#	idea = polish_agreement
			#	days = 90
			#}
		}
	}
	focus = {
		id = SOV_berlings_army
		icon = GFX_goal_focus_communist_army
		prerequisite = { focus = SOV_Sikorski_Mayski_agreement  }
		x = 25
		y = 5
		cost = 4
		available = {
			has_war_with = GER
			GER = {controls_state = 10}
		}
		ai_will_do = {
			factor = 5
		}

		
		completion_reward = {
			country_event = {id = soviet.388 }
		}
	}
	
	focus = {
		id = SOV_polish_army
		icon = GFX_polish_army
		prerequisite = { focus = SOV_berlings_army  }
		prerequisite = { focus = SOV_proletariat_reserves }
		x = 27
		y = 6
		cost = 5
		available = {
			has_war_with = GER
			GER = {controls_state = 10}
			
		}
		ai_will_do = {
			factor = 5
		}

		
		completion_reward = {
			country_event = {id = soviet.336 }
		}
	}
	
	

	focus = {
		id = SOV_operation_countenance
		icon = GFX_Goal_Countenance
		prerequisite = { focus = SOV_anti_capitalist_diplomacy }
		x = 19
		y = 3
		cost = 5
		ai_will_do = {
			factor = 1
		}
		available = {
        OR = {
			has_defensive_war_with = GER
			NOT = { 
			126 = {
		    is_owned_and_controlled_by = ENG
			}
			}
			NOT = { 
			127 = {
		    is_owned_and_controlled_by = ENG
			}
			}
			}
			ENG = { has_war_with = GER }
			NOT = { has_war_with = ENG }
		}
		completion_reward = {
		      ENG = { country_event = { id = BICE_britain.36 } }
        
		#if = {   # Why the iraq check? what happens with iraq?
		#			limit = {
		#			NOT = { IRQ = { is_in_faction_with = ENG } }
		#	291 = {
		#    is_owned_and_controlled_by = IRQ
		#	}
		#			}
		#					
		#		}
		
		

	    }

	}

    focus = {
		id = SOV_Red_Army_Airforce
		icon = GFX_Aerial_Fleet
		cost = 6.5
		x = 36
		y = 0
		allow_branch = {
			NOT = {
				has_civil_war = yes
			}
		}
	
		completion_reward = {
			add_tech_bonus = {
				uses = 2
				bonus = 0.50
				category = air_doctrine
			}
		}

	}	
	focus = {
		id = SOV_remove_air_purge
		icon = GFX_purge_airforce  #GFX_focus_research move to purge
		cost = 6
		prerequisite = {
			focus = SOV_Red_Army_Airforce
		}
		prerequisite = {
			focus = SOV_great_purge
		}
		x = -3
		y = 1
		relative_position_id = SOV_Red_Army_Airforce

      bypass = {
         has_idea = navy_purged
      }
		completion_reward = {
			remove_ideas = air_purged
		}

	}
	focus = {
		id = SOV_OKB
		icon = GFX_Goal_Aircraft_Research  #GFX_focus_research move to purge
		cost = 3.5
		prerequisite = {
			focus = SOV_Red_Army_Airforce
		}
		x = 0
		y = 1
		relative_position_id = SOV_Red_Army_Airforce
		completion_reward = {
		custom_effect_tooltip = available_designer
		show_ideas_tooltip = Myasishchev_design_bureau
		custom_effect_tooltip = available_designer
		show_ideas_tooltip = Petlyakov_design_bureau
			custom_effect_tooltip = available_air_chief
			
			show_ideas_tooltip = SOV_9
		}

	}
	focus = {
		id = SOV_Yakovlev_Fighters
		icon = GFX_SOV_Yakovlev
		cost = 4
		prerequisite = {
			focus = SOV_OKB
		}
		mutually_exclusive = {
			focus = SOV_Lavochkin_Fighters
		}
		x = -1
		y = 2
		relative_position_id = SOV_Red_Army_Airforce
		completion_reward = {
		custom_effect_tooltip = available_designer
		show_ideas_tooltip = yakovlev_design_bureau
			add_tech_bonus = {
				uses = 1
				bonus = 0.5
				category = light_fighter
			}
		}

	}
	focus = {
		id = SOV_Lavochkin_Fighters
		icon = GFX_SOV_Lavochkin
		cost = 4
		prerequisite = {
			focus = SOV_OKB
		}
		mutually_exclusive = {
			focus = SOV_Yakovlev_Fighters
		}
		x = 1
		y = 2
		relative_position_id = SOV_Red_Army_Airforce
		completion_reward = {
		custom_effect_tooltip = available_designer
		show_ideas_tooltip = LaGG_design_bureau
			add_tech_bonus = {
				uses = 1
				bonus = 0.5
				category = light_fighter
			}
		}

	}
	focus = {
		id = SOV_Sturmovik
		icon = GFX_goal_generic_CAS
		cost = 4.5
		prerequisite = {
			focus = SOV_OKB
		}
		x = -2
		y = 3
		relative_position_id = SOV_Red_Army_Airforce
		completion_reward = {
		custom_effect_tooltip = available_designer
		show_ideas_tooltip = ilyushin_design_bureau
			add_tech_bonus = {
				uses = 3
				ahead_reduction = 0.4
				category = tactical_bomber
			}
		}

	}
	focus = {
		id = SOV_Transpolar_Flight
		icon = GFX_focus_jap_cast_the_die
		cost = 4.5
		prerequisite = {
			focus = SOV_Red_Army_Airforce
		}
		x = 3
		y = 2
		relative_position_id = SOV_Red_Army_Airforce
		completion_reward = {
				country_event = soviet.339
			add_tech_bonus = {
				uses = 2
				bonus = 0.75
				category = heavy_air
			}
		}

	}
	
	
	focus = {
		id = SOV_aeroflot
		icon = GFX_focus_CZE_military_aeronautical_institute
		cost = 4
		prerequisite = {
			focus = SOV_Red_Army_Airforce
		}
		x = 2
		y = 1
		relative_position_id = SOV_Red_Army_Airforce
		available = {
			219 = {
				is_owned_and_Controlled_by = SOV
			}
		}
		completion_reward = {
			219 = {
			if = {
				limit = { is_controlled_by = SOV }
			add_extra_state_shared_building_slots = 3
			add_building_construction = {
					type = arms_factory
					level = 3
					instant_build = yes
					}
				}
			}
			custom_effect_tooltip = available_designer
		show_ideas_tooltip = tupolev_design_bureau
			
		}

	}
	focus = {
		id = SOV_Soviet_Airforce
		icon = GFX_goal_generic_air_doctrine
		cost = 6
		prerequisite = {
			focus = SOV_Yakovlev_Fighters
			focus = SOV_Lavochkin_Fighters
		}
        prerequisite = {
			focus = SOV_remove_air_purge
		}
		prerequisite = {
			focus = SOV_Transpolar_Flight
		}
		x = 0
		y = 3
		relative_position_id = SOV_Red_Army_Airforce
		completion_reward = {
			add_tech_bonus = {
				uses = 2
				bonus = 0.4
				category = air_doctrine
			}
			air_experience = 50
		}

	}
	focus = {
		id = SOV_Long_Range_Aviation
		icon = GFX_goal_generic_air_bomber
		cost = 5
		prerequisite = {
			focus = SOV_Soviet_Airforce
		}
		prerequisite = {
			focus = SOV_Transpolar_Flight
		}
		mutually_exclusive = {
			focus = SOV_Frontal_Aviation
		}
		x = 1
		y = 4
		relative_position_id = SOV_Red_Army_Airforce
		completion_reward = {
			add_tech_bonus = {
				uses = 2
				bonus = 0.5
				ahead_reduction = 0.3
				category = heavy_air
			}
		}

	}
	
	focus = {
		id = SOV_Naval_Bombers
		icon = GFX_goal_generic_air_naval_bomber
		cost = 5
		prerequisite = {
			focus = SOV_Soviet_Airforce
		}
		prerequisite = {
			focus = SOV_Transpolar_Flight
		}
		x = 3
		y = 5
		relative_position_id = SOV_Red_Army_Airforce
		completion_reward = {
			add_tech_bonus = {
				uses = 2
				bonus = 0.6
				category = naval_bomber
			}
		}

	}
	
	focus = {
		id = SOV_Frontal_Aviation
		icon = GFX_Goal_MIG
		cost = 5
		prerequisite = {
			focus = SOV_Soviet_Airforce
		}
		mutually_exclusive = {
			focus = SOV_Long_Range_Aviation
		}
		x = -1
		y = 4
		relative_position_id = SOV_Red_Army_Airforce
		completion_reward = {
		custom_effect_tooltip = available_designer
		show_ideas_tooltip = mig_design_bureau
			add_tech_bonus = {
				uses = 1
				bonus = 0.75
				category = light_fighter
			}
		}

	}
}
#######################################################

